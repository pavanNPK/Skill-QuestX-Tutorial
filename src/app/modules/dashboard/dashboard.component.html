<div class="dashboard-container">
  <div class="dashboard-content">
    <!-- Main Content Area -->
    <div class="main-area">
      <!-- Top Cards Row -->
      <div class="cards-row">
        <!-- Courses (Moved to first) -->
        <div class="info-card card-purple">
          <h3 class="card-title">Courses</h3>
          <div class="card-icon" style="background-color: var(--sqx-color-card-icon-purple)">
            <i class="pi pi-briefcase"></i>
          </div>
        </div>

        <div class="info-card card-yellow">
          <h3 class="card-title">Classes</h3>
          <div class="card-icon" style="background-color: var(--sqx-color-card-icon-yellow)">
            <i class="pi pi-video"></i>
          </div>
        </div>

        <div class="info-card card-violet">
          <h3 class="card-title">Course Materials</h3>
          <div class="card-icon" style="background-color: var(--sqx-color-card-icon-violet)">
            <i class="pi pi-book"></i>
          </div>
        </div>
      </div>

      <!-- Feedbacks (Full Width) -->
      <div class="feedbacks-section">
        <div class="feedbacks-card">
          <div class="card-header">
            <h3 class="section-title">Feedbacks</h3>
            <button class="view-all-btn">View All</button>
          </div>
          <div class="feedback-item">
            <div class="feedback-header">
              <div class="author-info">
                <img src="/assets/images/avatar-2.jpg" alt="Author" class="author-avatar"
                  onError="this.src='/assets/images/default-avatar.png'">
                <div>
                  <h4 class="feedback-author">Charil Polamraju</h4>
                  <span class="feedback-role">Student</span>
                </div>
              </div>
              <div class="feedback-rating">
                <i class="pi pi-star-fill"></i>
                <i class="pi pi-star-fill"></i>
                <i class="pi pi-star-fill"></i>
                <i class="pi pi-star-fill"></i>
                <i class="pi pi-star"></i>
              </div>
            </div>
            <p class="feedback-text">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut et massa mi.
              Aliquam in hendrerit urna. Pellentesque sit amet sapien fringilla, mattis ligula
              consectetur, ultrices mauris. Maecenas vitae mattis tellus.
            </p>
          </div>
        </div>
      </div>

      <!-- Tasks Table -->
      <div class="tasks-section">
        <h3 class="section-title">Tasks</h3>
        <div class="tasks-table">
          <div class="table-header">
            <div class="th th-num">#</div>
            <div class="th th-name">Task Name</div>
            <div class="th th-timeline">Timeline</div>
          </div>
          <div class="table-body">
            @for (task of tasks; track task.id) {
            <div class="table-row">
              <div class="td td-num">{{ task.id }}</div>
              <div class="td td-name">{{ task.name }}</div>
              <div class="td td-timeline">{{ task.timeline }}</div>
            </div>
            }
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar Area -->
    <div class="sidebar-area">
      <!-- Course Progress -->
      <div class="progress-card">
        <h3 class="section-title">Course Progress</h3>
        <div class="progress-chart">
          <svg viewBox="0 0 200 200" class="donut-chart">
            <circle cx="100" cy="100" r="80" fill="none" stroke="#F3F4F6" stroke-width="15"></circle>
            <circle cx="100" cy="100" r="80" fill="none" stroke="#6C5CE7" stroke-width="15"
              [attr.stroke-dasharray]="(progressPercentage * 5.027) + ' 502.7'" stroke-linecap="round"
              transform="rotate(-90 100 100)"></circle>
            <text x="100" y="100" dy=".3em" text-anchor="middle" font-size="28" font-weight="700"
              fill="#1f2937">{{progressPercentage | number:'1.0-0'}}%</text>
          </svg>
          <div class="progress-legend">
            <div class="legend-item">
              <span class="legend-dot" style="background-color: #6C5CE7"></span>
              <span>Completed</span>
            </div>
            <div class="legend-item">
              <span class="legend-dot" style="background-color: #F3F4F6"></span>
              <span>Remaining</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Calendar Widget -->
      <div class="calendar-widget">
        <div class="calendar-header">
          <button class="calendar-nav" (click)="previousMonth()"><i class="pi pi-angle-left"></i></button>
          <span class="calendar-month">{{ currentMonth }}</span>
          <button class="calendar-nav" (click)="nextMonth()"><i class="pi pi-angle-right"></i></button>
        </div>
        <div class="calendar-grid">
          <div class="calendar-day-label">Su</div>
          <div class="calendar-day-label">Mo</div>
          <div class="calendar-day-label">Tu</div>
          <div class="calendar-day-label">We</div>
          <div class="calendar-day-label">Th</div>
          <div class="calendar-day-label">Fr</div>
          <div class="calendar-day-label">Sa</div>

          @for (day of calendarDays; track $index) {
          <div class="calendar-day" [class.empty]="!day" [class.active]="day === selectedDay"
            [class.today]="isToday(day)" (click)="selectDay(day)">
            {{ day || '' }}
          </div>
          }
        </div>
      </div>

      <!-- Job Board -->
      <div class="job-board-widget">
        <h3 class="widget-title">Job-Board ðŸš€</h3>
        @for (job of jobs; track job.title) {
        <div class="job-card" [class.locked]="job.locked">
          @if (job.locked) {
          <div class="lock-overlay">
            <div class="lock-icon-wrapper">
              <i class="pi pi-lock"></i>
            </div>
          </div>
          }
          <h4 class="job-title">{{ job.title }}</h4>
          <div class="job-detail">
            <i class="pi pi-map-marker"></i>
            <span>Location: {{ job.location }}</span>
          </div>
          <div class="job-detail">
            <i class="pi pi-briefcase"></i>
            <span>Type: {{ job.type }}</span>
          </div>
          <div class="job-detail">
            <i class="pi pi-globe"></i>
            <span>Website: {{ job.website }}</span>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
</div>